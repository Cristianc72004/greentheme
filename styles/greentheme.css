/* =======================
   GreenTheme – estilos base (final)
   ======================= */

/* Resets y seguridad anti-scroll */
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }
html, body, .pkp_structure_page { overflow-x: hidden; }
.pkp_structure_page img { max-width: 100%; height: auto; display: block; }

/* Fila de user menu sin márgenes negativos */
#headerNavigationContainer .container-fluid > .row { margin-left: 0; margin-right: 0; }
.pkp_structure_page > .row { margin-left: 0; margin-right: 0; }

/* ----- Header / marca ----- */
.gwj-header { padding: 8px 0 4px; }

/* Contenedor de marca: logo + título imagen */
.gwj-brand{ display:inline-flex; align-items:center; gap:12px; text-decoration:none; }

/* Logo redondo */
.gwj-logo{ height:64px; width:auto; }

/* Título como imagen */
.gwj-title-img{ display:inline-block; height:42px; width:auto; vertical-align:middle; margin:0; }

/* ISSN */
.gwj-issn-row{ margin-top:4px; margin-left:76px; line-height:1.1; }
.gwj-issn-row .issn-link{ font-size:13px; color:#357a38; text-decoration:none; }
.gwj-issn-row .issn-link:hover, .gwj-issn-row .issn-link:focus{ text-decoration:underline; }

/* Logos aliados */
.partner-logos{ display:flex; justify-content:flex-end; gap:14px; align-items:center; flex-wrap:wrap; }
.partner-logos img{ height:34px; width:auto; opacity:.95; max-width:100%; }

/* --- Barra de búsqueda --- */
.col-sm-4.text-right { position: relative; }
.gwj-search-bar { position: absolute; top:100px; right:20px; width:280px; }
.gwj-search-bar form { display:flex; justify-content:flex-end; align-items:center; gap:6px; }

/* Navbar */
header.navbar.navbar-default{ background:#fff; border:none; box-shadow:0 1px 0 rgba(0,0,0,.06); }
header.navbar.navbar-default .navbar-nav > li > a{ padding-top:14px; padding-bottom:14px; }

/* Contenido */
.pkp-content-fluid{ padding-left:8px; padding-right:8px; }
.pkp-content-fluid .row{ margin-left:-8px; margin-right:-8px; }
.pkp-content-fluid [class*="col-"]{ padding-left:8px; padding-right:8px; }

/* =========================
   LAYOUT SIDEBAR + MAIN
   ========================= */
.gwj-sidebar{ padding-left:0; padding-right:16px; border-right:1px solid #e6eeee; }
.pkp_structure_main{ padding-left:24px; padding-right:14px; }

/* ===== Breadcrumbs ===== */
.cmp_breadcrumbs{ margin:6px 0 18px; }
.cmp_breadcrumbs .breadcrumb{ background:transparent; padding-left:0; margin-bottom:0; border-radius:0; }
.cmp_breadcrumbs .breadcrumb > li + li:before{ content:"/"; padding:0 6px; color:#90a4ae; }

/* Hero */
.gwj-hero{ position:relative; max-width:1000px; margin:12px auto 24px; width:100%; }
.gwj-hero img{ display:block; width:100%; height:420px; object-fit:cover; object-position:center; border-radius:4px; }
.gwj-hero .gwj-cta{ position:absolute; right:24px; bottom:24px; }
.gwj-hero .gwj-cta .btn{ padding:12px 18px; font-size:16px; background:rgba(255,255,255,.9); border-color:rgba(0,0,0,.1); }

/* Menú lateral */
.gwj-sidemenu{
  background:#fff; border:1px solid #d9e2e1; border-radius:3px; overflow:visible; position:relative;
  width:210px; margin-top:10px; margin-left:20px;
}
.gwj-sidemenu ul{ list-style:none; margin:0; padding:0; }
.gwj-sidemenu li{ position:relative; }
.gwj-sidemenu li a{ display:block; padding:10px 12px; color:#2c3e50; text-decoration:none; border-bottom:1px solid #e6eeee; }
.gwj-sidemenu li:last-child > a{ border-bottom:0; }
.gwj-sidemenu li > a:hover{ background:#e8f4f2; }
.gwj-sidemenu li.active > a, .gwj-sidemenu li > a.active{ background:#2f9a8f; color:#fff; }
.gwj-sidemenu li.active > a:hover{ background:#27867c; color:#fff; }
.gwj-sidemenu .section-title{ font-weight:600; padding:10px 12px; color:#1b4d2a; border-bottom:1px solid #e6eeee; background:#f7fbfa; }
.gwj-sidemenu .dropdown-toggle .caret{ float:right; margin-top:8px; }
.gwj-sidemenu .dropdown-menu{ left:0; right:0; width:100%; margin:0; border-radius:0 0 3px 3px; border-color:#e6eeee; box-shadow:0 2px 6px rgba(0,0,0,.08); }
.gwj-sidemenu .dropdown-menu > li > a{ padding:9px 12px; color:#2c3e50; }
.gwj-sidemenu .dropdown-menu > li > a:hover{ background:#e8f4f2; }
.gwj-sidemenu .dropdown.open > a, .gwj-sidemenu .dropdown.open > a:hover{ background:#2f9a8f; color:#fff; border-bottom-color:transparent; }

/* Menú vertical en header */
.gwj-primary-nav .gwj-vertical-menu.nav > li{ float:none; }
.gwj-primary-nav .gwj-vertical-menu > li > a{
  display:block; padding:10px 12px; color:#2c3e50; text-decoration:none; background:#fff; border:1px solid #e6eeee; border-radius:3px; margin-bottom:6px;
}
.gwj-primary-nav .gwj-vertical-menu > li.active > a,
.gwj-primary-nav .gwj-vertical-menu > li > a:hover,
.gwj-primary-nav .gwj-vertical-menu > li > a:focus{ background:#2f9a8f; color:#fff; border-color:#2f9a8f; }

/* ===== Página de Login ===== */
.page_login { padding-top: 8px; }
.page_login .cmp_breadcrumbs { margin-bottom: 20px; }
.page_login .pkp_form.login{ max-width:520px; margin:0; }
@media (min-width: 768px){ .page_login .pkp_form.login{ margin-left:24px; } }
@media (min-width: 992px){ .page_login .pkp_form.login{ margin-left:28px; } }

/* ===== Cabecera / Consejo editorial ===== */
.gwj-editorial{ margin:12px 0 28px; }
.gwj-editorial__intro h1{ margin:0 0 8px; font-weight:700; }
.gwj-editorial__intro p{ color:#4a5b63; max-width:70ch; }

.gwj-editor-list{ list-style:none; margin:18px 0 0; padding:0; display:flex; flex-direction:column; gap:12px; }
.gwj-editor-card{
  display:grid; grid-template-columns: 88px 1fr auto; gap:16px; align-items:center;
  background:#fff; border:1px solid #e6eeee; border-radius:6px; padding:12px 14px;
}
.gwj-editor-card__media{ margin:0; }
.gwj-editor-card__photo{ width:88px; height:88px; border-radius:50%; object-fit:cover; object-position:center; }
.gwj-editor-card__body{ min-width:0; }
.gwj-editor-card__name{ margin:0 0 2px; font-size:18px; font-weight:700; }
.gwj-editor-card__role, .gwj-editor-card__affil, .gwj-editor-card__interests{ margin:0 0 4px; color:#2c3e50; line-height:1.45; }
.gwj-editor-card__badges img{ width:36px; height:36px; display:block; margin-left:8px; opacity:.95; }
.gwj-editor-card__badges a{ display:inline-block; margin-left:6px; }
.gwj-editor-card a{ text-decoration:none; }
.gwj-editor-card a:hover, .gwj-editor-card a:focus{ text-decoration:underline; }

@media (max-width: 640px){
  .gwj-editor-card{ grid-template-columns: 64px 1fr; }
  .gwj-editor-card__photo{ width:64px; height:64px; }
  .gwj-editor-card__badges{ grid-column:1 / -1; margin-top:6px; }
}

/* ===== Página Contacto: mapa + datos ===== */
.page_contact .gwj-map-card{
  background:#fff;
  border:1px solid #e6eeee;
  border-radius:8px;
  padding:10px;
  margin:6px auto 18px;
  max-width: 860px;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
}
.page_contact .gwj-map-ratio{
  position: relative;
  width: 100%;
  height: 280px;
  border-radius: 6px;
  overflow: hidden;
}
.page_contact .gwj-map-ratio iframe{
  position:absolute; inset:0;
  width:100%; height:100%; border:0;
}
.page_contact .gwj-map-actions{
  display:flex; justify-content:flex-end;
  margin-top:10px;
}

.page_contact .gwj-contact-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:16px;
}
.page_contact .gwj-contact-box{
  background:#fff;
  border:1px solid #e6eeee;
  border-radius:6px;
  padding:14px;
}
.page_contact .gwj-contact-title{ margin:0 0 8px; font-weight:700; }
.page_contact .gwj-address{ white-space:pre-wrap; }
.page_contact .gwj-logos-row{ display:flex; align-items:center; gap:16px; margin-bottom:12px; }
.page_contact .gwj-logo-small{ height:40px; width:auto; opacity:.95; }

@media (max-width: 991px){
  .page_contact .gwj-map-card{ max-width: 100%; }
}
@media (max-width: 767px){
  .page_contact .gwj-contact-grid{ grid-template-columns: 1fr; }
}

/* Ocultar marca PKP */
.pkp_brand_footer, .pkp_branding{ display:none !important; }
#homepageImage{ display:none; }

/* Utilidades */
.mt-20{ margin-top:20px; }
.mb-20{ margin-bottom:20px; }

/* Responsive general */
@media (max-width: 991px){
  .gwj-logo{ height:56px; }
  .gwj-title-img{ height:34px; }
  .gwj-issn-row{ margin-left:68px; }
  .partner-logos{ justify-content:flex-start; margin-top:8px; }
  .gwj-hero{ max-width:860px; }
  .gwj-sidebar{ border-right:none; padding-right:12px; }
  .pkp_structure_main{ padding-left:18px; }
  .gwj-sidemenu{ margin-left:12px; }
}
@media (max-width: 767px){
  .gwj-logo{ height:44px; }
  .gwj-title-img{ height:28px; }
  .gwj-issn-row{ margin-left:56px; }
  .gwj-hero{ max-width:100%; }
  .gwj-hero img{ height:240px; }
  .gwj-sidebar{ padding-right:0; border-right:none; margin-bottom:15px; }
  .pkp-content-fluid{ padding-left:10px; padding-right:10px; }
  .pkp-content-fluid .row{ margin-left:-10px; margin-right:-10px; }
  .pkp-content-fluid [class*="col-"]{ padding-left:10px; padding-right:10px; }
  .pkp_structure_main{ padding-left:10px; padding-right:10px; }
  .cmp_breadcrumbs{ margin:4px 0 12px; }
}

/* ====== Footer personalizado ====== */
.gwj-footer{ background:#fff; border-top:1px solid #e6eeee; padding:20px 0; font-size:14px; color:#2c3e50; margin-top:40px; }
.gwj-footer .footer-info p{ margin:0 0 6px; line-height:1.5; }
.gwj-footer .footer-info a{ color:#2c3e50; text-decoration:none; }
.gwj-footer .footer-info a:hover{ text-decoration:underline; }
.gwj-footer .footer-social .social-icon{ height:28px; width:28px; margin-left:8px; opacity:.9; transition:opacity .2s ease; }
.gwj-footer .footer-social .social-icon:hover{ opacity:1; }

/* ===== Botón transparente elegante ===== */
.gwj-submit-btn{
  display:inline-block; padding:12px 28px; font-size:16px; font-weight:500; border-radius:4px;
  background-color:rgba(255,255,255,0.6); color:#222 !important; text-decoration:none;
  border:1px solid rgba(0,0,0,0.1); transition:background-color .3s ease,color .3s ease;
}
.gwj-submit-btn:hover, .gwj-submit-btn:focus{ background-color:rgba(255,255,255,0.85); color:#000 !important; text-decoration:none; }

/* Contenedor de texto del About */
.page_about { max-width: 85%; line-height: 1.6; }

/* Contenedor de texto del Privacy */
.page_privacy { max-width: 85%; line-height: 1.6; }

/* Contenedor de texto del submissions */
.page_submissions { max-width: 85%; line-height: 1.6; }

/* ===== Páginas personalizadas estándar ===== */
.gwj-page { margin: 12px 0 28px; }
.gwj-page__header { margin-bottom: 14px; }
.gwj-page__header h1 { margin: 0 0 6px; font-weight: 700; }
.gwj-page__intro { color:#4a5b63; max-width: 70ch; }
.gwj-hero-banner { margin: 10px 0 16px; background:#fff; border:1px solid #e6eeee; border-radius:6px; overflow:hidden; }
.gwj-hero-banner img { display:block; width:100%; height:auto; }
.gwj-hero-banner figcaption { padding:8px 10px; font-size:13px; color:#60717a; background:#fafcfc; }
.gwj-section { margin-top: 14px; }
.gwj-section h2 { margin: 0 0 8px; font-size: 20px; font-weight: 700; }
.gwj-cards { list-style:none; margin: 0; padding: 0; display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.gwj-card { background:#fff; border:1px solid #e6eeee; border-radius:6px; padding:12px; display:grid; grid-template-columns: 72px 1fr; gap:12px; align-items: start; }
.gwj-card__thumb { width:72px; height:72px; border-radius:50%; object-fit:cover; object-position:center; }
.gwj-card__title { margin:0 0 4px; font-size:16px; font-weight:700; }
.gwj-card__meta { margin:0 0 4px; color:#2c3e50; font-size:14px; }
.gwj-card__text { margin:0; color:#334; }
.gwj-table { width:100%; border-collapse: collapse; background:#fff; border:1px solid #e6eeee; border-radius:6px; overflow:hidden; }
.gwj-table th, .gwj-table td { padding:10px 12px; border-bottom:1px solid #eef3f3; }
.gwj-table th { background:#f7fbfa; font-weight:700; text-align:left; }
.gwj-callout { margin-top: 16px; padding: 12px 14px; background:#f7fbfa; border:1px solid #d9e2e1; border-radius:6px; }
.gwj-callout h3 { margin:0 0 6px; font-size:16px; font-weight:700; }
@media (max-width: 767px){
  .gwj-cards { grid-template-columns: 1fr; }
  .gwj-card { grid-template-columns: 56px 1fr; }
  .gwj-card__thumb { width:56px; height:56px; }
}
/* Espaciado lateral para páginas personalizadas */
.pkp_structure_main .gwj-page { margin-left: 20px; margin-top: 10px; }
.pkp_structure_main { padding-left: 20px; }

/* ===== Escala global ~90% ===== */
.pkp_structure_page { zoom: 0.9; }
@supports not (zoom: 1) {
  .pkp_structure_page {
    transform: scale(0.9);
    transform-origin: top left;
    width: 111.111%;
  }
  .ui-dialog, .modal, .tooltip, .popover, .dropdown-menu {
    transform: none !important;
  }
}

/* ============================
   ARCHIVE PAGE – VOLUMENES (ajuste compacto)
   ============================ */

/* Título de volumen */
.pkp_volume_title {
  font-family: 'Lato', sans-serif;
  color: #1e5631;
  border-bottom: 2px solid #cde0c0;
  display: inline-block;
  padding-bottom: 4px;
  margin: 36px 0 20px;
  font-weight: 700;
  font-size: 22px;
}

/* Contenedor general del grid */
.gwj-issue-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
  gap: 20px;                    /* 🔹 reducido de 32px a 20px */
  justify-items: center;
  align-items: start;
  margin-bottom: 45px;
  width: 100%;
  max-width: 1150px;            /* 🔹 un poco más angosto para acercar tarjetas */
  margin-left: auto;
  margin-right: auto;
}

/* Tarjeta del número */
.gwj-issue-card {
  text-align: center;
  background: #fff;
  border: 1px solid #e6eeee;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  padding: 14px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  max-width: 320px;             /* 🔹 antes 340px, así caben más cerca */
  width: 100%;
}

.gwj-issue-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* Imagen de portada */
.gwj-issue-card img {
  width: 100%;
  height: 210px;
  object-fit: cover;
  object-position: center;
  border-radius: 8px;
  margin-bottom: 10px;
}

/* Título */
.gwj-issue-card a.issue-title {
  display: inline-block;
  font-weight: 700;
  font-size: 15px;
  color: #2c3e50;
  text-decoration: none;
}

.gwj-issue-card a.issue-title:hover {
  color: #2f9a8f;
  text-decoration: underline;
}

/* Datos adicionales (volumen, año) */
.gwj-issue-card .issue-meta {
  font-size: 13px;
  color: #60717a;
  line-height: 1.4;
}

/* ===== Responsividad ===== */
@media (max-width: 992px) {
  .gwj-issue-grid {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;                  /* 🔹 aún más compacto en tablet */
  }
  .gwj-issue-card {
    max-width: 270px;
  }
  .gwj-issue-card img {
    height: 190px;
  }
}

@media (max-width: 600px) {
  .gwj-issue-grid {
    grid-template-columns: 1fr;
    gap: 18px;
  }
  .gwj-issue-card {
    max-width: 90%;
  }
  .gwj-issue-card img {
    height: 180px;
  }
}
